introduction quantum computer promise excellent computational capacity intractable classical computer solve challenging problem including material science information science computer science mathematical science others however two major challenge bringing quantum computer materialize difficult access full information entangled system state collapse upon measurement difficult build control measure quantum state arbitrarily high accuracy regard even though current state-of-the-art quantum computer rely noisy intermediate-scale nisq device usually prevent high efficiency various hybrid quantum-classical algorithm proposed actively studied recently could promising quantum speedup regime nisq device massive application including variational quantum eigensolvers quantum approximate optimization algorithm new frontier quantum foundation others reported beyond actively studied vqas universal compilation drawn tremendous interest recently core idea relies training process transform trainable unitary target unitary demonstrated different application gate optimization quantum-assisted compiling process continuous-variable quantum learning robust quantum compilation future universal quantum compiling could circuit depth-compression black-box compiling error mitigation gate-fidelity benchmarking efficient gate synthesis another aspect quantum state tomography qst measurement process performed numerous identical copy system extract state information general given unknown quantum state complex hilbert space -dimension requires exponentially growing 2^d-1\ measurement different base completely reproduce state intractable large system numerous method proposed improving standard qst term efficiency methodology quantum dynamic recently quantum circuits-based qst attracted significant attention owing incredible advantage quantum device allows efficiently prepare quantum state high confidence fully control hamiltonian state evolution directly access measurement result variational approach single-shot measurement name investigated despite recent achievement qst still challenging implement nisq device work introduce promising application universal compilation qst main idea use trainable unitary acting upon known fiducial state reconstruct unknown state created using haar random target unitary acting upon fiducial state advantage method requires low-depth trainable unitaries measurement realize target state significantly reduces complexity allows tractability large system furthermore flexibility trainable unitaries elevated target unitaries resulting better fault-tolerant capacity thus allowing high efficiency trainable quantum circuit figure universal compilation-based quantum state tomography universal compilation algorithm consists quantum part classical part quantum part final state created applying set quantum gate followed ^\dagger onto initial circuit measured classical part compute appropriate cost function use optimizer compute new parameter update scheme converges structure target trainable unitaries used qst unitary haar random generator ^\dagger parameterized ^\dagger broken entangled gate local rotation gate several structure shown figure sketch quantum gate used notation number qubits number layer r_j rotation gate around axis full size image concretely first introduce general framework universal compilation-based quantum state tomography uc-qst also introduce several gradient-based optimizers including standard gradient descent sgd adam quantum natural gradient descent qng discus numerical experiment result representative case single-qubit tomography evaluate reconstructing efficiency unknown haar random state via various popular circuit ansatzes find circuit depth play crucial role robust fidelity i.e. choosing proper circuit depth via number layer quantum circuit get high fidelity qubit number finally compare result shadow tomography method similar fashion field study reveals accuracy mainly relies ansatz topology optimal circuit depth significant impact different optimizers study promise application quantum metrology sensing new frontier foundation aspect moreover possible implement algorithm near-term quantum computer thus could valuable technique verifying fidelity quantum circuit studying various quantum computing task also benefit overcome standard qst requires set-up traditional experiment consumes heavy post-processing calculation reproduce quantum state accuracy depends estimator maximum-likelihood least-squares result introduce universal compilation scheme translate given state another one apply quantum state tomography universal compilation-based quantum state tomography uc-qst universal compilation scheme consists quantum part classical part shown fig quantum part circuit parameterizable ansatzes let fixed target unitary ^\dagger trainable unitary ansatz set quantum gate parameter act sequentially onto circuit transform initial state final state aligned ^\dagger aligned transition probability yield aligned _0\rightarrow _0|\psi _0|\varvec ^\dagger aligned task maximize transition probability max _0\rightarrow state compiled maximization transition probability i.e. _0\rightarrow implies applied qst describe concretely qst let number qubits transform random unknown quantum state via haar random unitary reconstruct state apply trainable unitary evolution ^\dagger learn role i.e. reconstructed state resembles unknown state _m\ adaptively updated training process number trainable parameter free lunch choice ^\dagger however break sequence single-qubit multi-qubit gate aligned ^\dagger r_zr_xr_z aligned shown fig wherein _l\ includes chain alternating all-to-all structure shown fig emphasize entangled gate consist two-qubit controlled -rotation gate differs previous work refer gate parameter-dependent entanglement gate useful preparing variational state metrology rapid entangled circuit testing expressibility entangling capability qualify closed two state consider fubini-study distance aligned 1-|\langle 1-p_0 aligned p_0 ^\dagger probability getting outcome quantum circuit apply sequence followed ^\dagger onto initial state get final state ^\dagger measure projective operator yield probability p_0 variational reconstructed state becomes target unknown state distance reach zero classical part thus use fubini-study distance cost function need minimize i.e. aligned argmin aligned training variational circuit converges obtain optimal reconstructed state yield normalized pure state unitary ansatz i.e. ^\dagger =\varvec training process apply gradient-based optimization iteratively update parameter minimize cost function first compute derivative _j\in compute new parameter via various appropriate optimizers including standard gradient descent sgd adam gradient descent quantum natural gradient qng see method section detail figure single-qubit tomography cost function versus number iteration difference optimizers sgd blue adam orange qng green inset quantum circuit single-qubit tomography unknown qubit state generated random unitary _3\left v^\dagger made r_z r_x gate inset bloch sphere represents qubit state violet circle true state blue circle trajectory reconstructed state sgd optimizer iteration run green circle trajectory qng optimizer iteration run full size image figure numerical result quantum state tomography plot fidelity unknown haar random state reconstructed state different structure chain alternating all-to-all case show result different optimizers sgd adam qng fixed plot fidelity similar different shown colored parenthesis blue star yellow dagger green double dagger blue star optimal number layer sgd yellow dagger optimal number layer adam green double dagger optimal number layer qng choose appropriate blue star yellow dagger green double dagger structure fidelity get possible highest accuracy full size image numerical result single-qubit qst first consider reconstructing abstract single-qubit state encodes quantum circuit shown inset fig randomly generate unknown quantum state aligned pmatrix -e^ +\theta pmatrix aligned set random haar measure reconstruct set unitary ^\dagger r_z r_x r_z indeed single-qubit rotation r_j -i\frac j\in _j\ pauli matrix applied qubit train scheme iteration using various optimizers show cost function versus iteration main fig qng optimizer give best optimization inset figure show trajectory bloch sphere reconstructed state updated two case sgd qng optimizers former need around iteration reconstructed state reach true state latter requires around iteration reach accuracy haar random state qst focus general random haar state i.e. _\mathrm haar shown fig reconstruct state use several ansatzes entangled gate ^\dagger including _\mathrm chain _\mathrm alternating _\mathrm all-to-all structure refer fig detailes structure used parameter-dependent controlled -rotation gate construct circuit depth structure n+3 n+2 respectively trainable parameter 4nl nl/2 3nl\ n+5 l/2\ respectively grown linearly suitable nisq device even large number qubits result shown fig let consider fidelity true haar state reconstructed state aligned aligned overlap two state fig a–c show fidelity different structure case fix examine three optimizers sgd blue circle adam yellow square qng green triangle first observe sgd optimizer good structure need choose appropriate learning rate fidelity reduce increasing nearly vanish contrast adam optimizer exhibit high fidelity _\mathrm chain _\mathrm all-to-all gradually reduces _\mathrm alternating even though stable near optimal point adam remarkable achieving high accuracy qst furthermore qng optimizer also allows getting high accuracy _\mathrm chain even better adam _\mathrm alternating gradually reduces _\mathrm all-to-all observation explained structure _\mathrm all-to-all contains number parameter via controlled -rotation gate compared others result low accuracy apparent qng optimizer sensitive controlled -rotation gate controlled -rotation gate efficient qng optimizer next achieve high accuracy qubit number increase number layer paying attention barren plateau i.e. accuracy training process reduces increasing parameter space figure d–f plot fidelity versus corresponding shown colored parenthesis blue star yellow dagger green double dagger sgd adam qng respectively number layer shown parenthesis smallest optimal required achieving high accuracy due barren plateau seen figure adam method allows reaching maximum fidelity result shown structure suitable shown middle position parenthesis similarly reach high accuracy qng optimizer choosing appropriate shown last position parenthesis sgd intractable achieving high accuracy _\mathrm alternating even though relation required clear interestingly see result required also around redundancy may reduce accuracy due barren plateau see detail method section simulate however larger scheme still work well evidently fig d–f enhance high fidelity appropriate optimizer every following procedure method section entirely expand larger still maintaining high fidelity compare shadow tomography protocol finally address merit uc-qst approach shadow tomography protocol recent promising method regime shadow tomography protocol given follows initially prepare random unknown quantum state task ahead predict target function underlying state shadow randomly pick unitary _k\ -tuple i.e. _t\ apply initial state transform ^\dagger measure evolved state computational basis ^n\ step repeated certain number measurement measurement get random classical snapshot aligned ^\dagger b|\varvec aligned define invertible channel matrix aligned =\mathbb aligned _k\ average _k\ corresponding pick-up probability let exists let p_k\ probability picking unitary _k\ reconstruct non-normalized state aligned p_k aligned classical shadow original unknown state transformation belongs family global clifford gate i.e. cnot hadamard s\_gate t\_gate refer random clifford measurement reconstructed state explicitly yield aligned 2^n+1 ^\dagger b|\varvec -\varvec aligned transformation belongs random pauli gate refer random pauli measurement straightforwardly yield aligned 3\varvec _j^\dagger b_j|\varvec -\varvec aligned b_1 b_n 0,1\ ^n\ comparing shadow tomography uc-qst scheme apply random pauli measurement consider prediction linear function figure merit accuracy global observable _z^ give predicted linear expectation value aligned obeys aligned fluctuation distribution around true expectation value predicted expectation value given variance var aligned var ^2\bigr ^2\bigr aligned figure comparison uc-qst approach shadow tomography method log–log plot variance var versus number repeated measurement measurement using shadow tomography standard quantum limit sql heisenberg limit shown comparison purpose number qubits fixed inset zoom-in variance blue area standard deviation talking ten run plot variance shadow tomography blue uc-qst orange shadow tomography fix measurement 10^5\ uc-qst use structure _\mathrm chain adam optimizer number shot 10^4\ full size image fig show variance var function number measurement shadow tomography variance slightly decrease increasing number measurement 10^2\ 10^5\ see inset figure detailed zoom-in result compared standard quantum limit sql i.e. sql measurement heisenberg limit i.e. measurement ^2\ variance doe beat sql fig compare variance obtained shadow tomography uc-qst different number qubits shadow tomography fix measurement 10^5\ uc-qst consider _\mathrm chain structure adam optimizer example number shot fixed 10^4\ seen uc-qst offer better result time resulting shadow tomography discussion discus feature uc-qst shadow tomography previous section shadow tomography allows predicting target function expectation value entanglement entropy correlation function maintaining precision whereas uc-qst allows reconstructing entire quantum state phase shift scheme allow predicting property quantum state quantum state fewer measurement compared standard quantum tomography another remarkable feature efficiency shadow tomography protocol depends random choice unitaries ensemble efficiency uc-qst scheme relies choice different ansatzes optimizes finally emphasize comparison section provides first glance two approach need characterize feature future work concrete evaluation furthermore idea uc-qst resembles self-guided quantum tomography sgqt single-shot measurement ssm previous approach also iteratively search estimated state converge true state however trainable unitary topology optimization algorithm different sgqt simultaneous perturbation stochastic approximation optimize cost function ssm train learning unitary fiducial known state converges true state apply universal compilation technique train learning unitary target unitary finally emphasize current method suitable pure-state tomography general mixed-state tomography method training process training process hybrid protocol illustrated fig set unitary gate followed ^\dagger applied onto circuit final state measured afterwards result sent classical counterpart compute corresponding cost function update new parameter using suitable optimizer protocol reach convergence use gradient-based optimization iteratively update parameter minimize cost function need calculate derivative w.r.t _j\ gate every _j\in compute two case follows first gate single-qubit rotation gate i.e. -i\theta _j\varvec _k/2 using standard two-term parameter-shift rule aligned -\dfrac 2\mathcal =-\frac 2\mathcal 2\sin p_0 s\varvec p_0 s\varvec aligned denotes arbitrary shift _j\ unit vector word add _j\ second gate controlled rotation gate i.e. cr_y using four-term parameter-shift rule partially compute aligned d_+ p_0 a\varvec p_0 a\varvec d_- p_0 b\varvec p_0 b\varvec aligned d_\pm 3\pi get -\frac 2\mathcal compute new parameter use several optimizers experiment standard gradient descent sgd adam gradient descent quantum natural gradient qng formula sgd read aligned t+1 =\varvec -\alpha aligned ^\mathrm training parameter learning rate comparison adam non-local averaging optimizer allows adapting learning rate requires step sgd aligned t+1 =\varvec -\alpha aligned =\beta t-1 +\left 1-\beta =\beta t-1 1-\beta ^2\mathcal =m_ 1-\beta =v_ 1-\beta hyper-parameters chosen 0.2 0.8 0.999\ 10^ finally qng defined aligned t+1 =\varvec -\alpha g^+\nabla aligned g^+\ pseudo-inverse fubini-study metric tensor assume group layer i.e. layer _\ell two unitaries satisfy _i^ _j^ =\delta metric tensor give aligned array cccc array array array array array array array aligned element read aligned _i\psi _i\psi aligned quantum state layer unitary _i^ -i\theta _i^ _i^ e.g. rotation gate _i^ _i^ recast aligned aligned see detailed example computing tensor metric optimizer pro con sgd simple low coverage one must choose proper learning rate achieve best result adam allows automatically adapt learning rate fast coverage noisy near optimal point qng better optimizers also requires computational cost regard quantum circuit sgd adam depend quantum state work classical data type including probability qng optimizes parameter towards geometry evolved quantum state thus expected offer better faster optimization conduct optimizers based advantage disadvantage compare result also serve test bed reference future work work implement numerical experiment using various configuration described train variational model compare together numerical result executed qiskit open-source package version 0.24.0 available run platform experiment get probability p_0\ execute 10^4\ shot using qasm simulator backend number iteration every training process fixed except others shown text sufficient cost function converge data shown text experiment scaled qubits quantum state tomography demonstrate scalability furthermore training process reproduce unknown state applying initial state use application statistical computation complexity term complexity execute parameter-shift rule quantum circuit executes time one time compute p_0 s\varvec one time compute p_0 s\varvec one time compute p_0 furthermore single evaluation requires executing circuit constant number shot reach certain precision execution involves around gate operation complexity iteration 2m+1 similarly complexity iteration four-term parameter-shift rule 4m+1 ideally step cost function decrease linear logarithmic speed regarding number iteration however variational circuit always offer lower bound cost function training process particular bound increase number qubits mean problem harder according size system aligned poly aligned complexity ansatz another challenge current structure fixed chain alternating all-to-all however structure also need optimize future work e.g. using genetic algorithm generating compressed ansatz work well current nisq device large number qubits fubini-study tensor metric provide practical example compute fubini-study tensor metric let consider concrete circuit shown fig consists r_x -i\frac r_z -i\frac cr_y 0|\otimes 1|\otimes -i\frac since r_x r_z act different qubits group one layer layer _1\ _z\ put cr_y\ another layer layer _0\ _y\ tensor metric explicitly yield aligned pmatrix 0\\ 0\\ pmatrix aligned figure example quantum circuit evaluating fubini-study tensor metric circuit start initial state evolves set gate r_x r_z layer cr_y layer detailed fubini-study tensor metric evaluation circuit provided text full size image quantum state explicitly expressed aligned aligned aligned -i\frac _x\otimes -i\frac _2\otimes aligned aligned 0|\otimes 1|\otimes -i\frac aligned element given aligned _0|\varvec _x^2|\psi -\langle _0|\varvec _x|\psi _0|\varvec _x\varvec _z|\psi -\langle _0|\varvec _x|\psi _0|\varvec _z|\psi _0|\varvec _z\varvec _x|\psi -\langle _0|\varvec _z|\psi _0|\varvec _x|\psi _0|\varvec _z^2|\psi -\langle _0|\varvec _z|\psi aligned _x\otimes _2\otimes next calculate starting main text derive aligned -i\frac aligned get aligned _1|\varvec _y^2|\psi -\langle _1|\varvec _y|\psi ^2\nonumber ^2\big aligned 1|\otimes derive expectation value prepare fig measure _1|\varvec _y^2|\psi _1|\big _2\big _1|\varvec _y|\psi _1|\big _y\big finally obtain tensor metric aligned pmatrix 0\\ 0\\ pmatrix aligned supported data qst discus data supporting result fig d–f main text discussed accuracy improved increasing number layer however increase arbitrarily large need stop optimal point define optimal smallest number layer next layer accuracy saturates start reduce fig discus optimal various case mark optimal colored arrow see also table figure plot fidelity function different structure different optimizers _\mathrm chain sgd _\mathrm chain adam _\mathrm chain qng _\mathrm alternating sgd _\mathrm alternating adam _\mathrm all\_ to\_ qng _\mathrm all\_ to\_ sgd _\mathrm all\_ to\_ adam _\mathrm all\_ to\_ qng full size image table number optimal layer taking fig full size table result trace optimal shown fig main text