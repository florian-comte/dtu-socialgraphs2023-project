introduction rate emergency department visit increasing faster population growth rate according result previous study conducted united state u.s. 144.8 million people u.s. visited total expenditure 76.3 billion rate visit elderly people aged year older visit per person higher group overall visit per person except infant age year visit per infant multiple comorbidities polypharmacy older adult increase risk medication-related visit jeon identified risk hospitalization visit older patient found taking one general potentially inappropriate medication pims based beer criterion twofold increased risk visit taking pims study patient visited u.s. found approximately 6.1 visit per people per year due medication addition 38.6 drug-related visit required follow-up hospitalization hospitalization rate aged year 48.9 visit related medication use elderly people significantly higher age group therefore countermeasure needed one possible approach reduce number visit older patient identify patient likely require visit proactively adjust modifiable factor medication use several study conducted predict risk requiring visit one study conducted u.s. using electronic administrative database predicted visit community-dwelling older adult using demographic underlying disease data include modifiable variable hippisley coupland also predicted emergency hospitalization primary care data patient aged 18–100 year using demographic lifestyle comorbidity clinical medication data however modifiable variable final model medication variable limited six medication class addition study conducted scotland predicting emergency admission next year peony score used predict emergency admission patient aged year using chronically used drug however prediction based prescription past year instead including medication used recently making difficult use therefore unlike variable necessary predict visit using readily available modifiable medication use variable replacement drug discontinuing use unnecessary logistic regression traditionally used develop predictive model visit community-dwelling patient prediction model using national health service claim data united kingdom included variable multivariable linear regression addition study community-dwelling patient aged year predicted hospitalization visit calculating risk score using regression estimate according previous study applying machine learning method predict similar outcome readmission showed improved result however approach widely used predict visit study analyzed relationship medication use visit therefore present study aimed develop validate model could predict risk visit among older adult using extensive medication variable including generated explicit clinical prescribing criterion elderly people nationwide claim data applying various method method study population two year nationwide claim data health insurance review assessment service-national adult patient sample hira-aps used included aged year older training set test set korea national health insurance system cover vast majority approximately population health insurance review assessment hira database contains claim data population ensuring generalizability analysis hira-aps dataset utilized stratified random sample claim data individual aged year providing comprehensive information patient demographic disease diagnosis based international statistical classification disease tenth revision icd-10 procedure prescription detail patient main diagnosis cancer july excluded thought would difference reason visiting cancer patient noncancer patient case group first visit july without main diagnosis cancer included visit date defined index date control selected among visit july reduce monthly difference selected patient matching performed monthly first outpatient visit date matched month defined index date control account increasing complexity poorer health status observed recent hospitalized adult excluded patient hospitalized day month prior index date fig study approved seoul national university institutional review board irb e2112/001-001 informed consent participant waived seoul national university institutional review board study used de-identified data retrospectively method performed according relevant guideline regulation figure patient selection flow training set full size image outcome definition measure data analysis included three category variable total number variable six sociodemographic characteristic age sex insurance status frailty score history visit hospitalization month index date comorbidities identified international classification disease 10th edition icd-10 code medication variable comprising general pims potentially inappropriate drug-drug interaction ddi pims disease-specific pims potentially high-risk medication class pims medication use assessed previous month based index date pims categorized general pims ddi pims disease-specific pims based beer criterion screening tool older person prescription stopp criterion version medication variable collectively defined overall medication supplementary table anticholinergic burden measured according korean anticholinergic burden scale k-abs frailty score measured according method previous study polypharmacy defined maximum number medication taken concomitantly past month baseline model used study incorporated variable identified previous study conducted community-dwelling patient however due nature present study relying claim data certain variable smoking status alcohol status marital status ethnicity laboratory test result could determined thus included baseline model therefore baseline model included variable age history visit hospitalization month index date diabetes myocardial infarction heart failure ischemic heart disease stroke chronic obstructive pulmonary disease mental disorder ml-based visit prediction eight prediction model constructed logistic regression ridge regularization linear discriminant analysis lda random forest xgboost lightgbm catboost deep neural network dnn tabnet ridge regularization one model shrink regression coefficient close zero thereby effectively selecting important predictor improving interpretability model lda method performing classification maximizing variance class minimizing variance within class random forest ensemble decision tree bootstrapped training sample random sample certain number predictor selected tree induction xgboost lightgbm catboost gradient-boosted decision tree model also ensemble method construct new tree model predicting error residual previous model adding new model model gradient descent algorithm minimize loss function dnn type artificial neural network model composed multiple layer consists input layer hidden layer output layer used solve nonlinear problem hidden layer add nonlinearity activation function learned backpropagation algorithm tabnet deep learning model designed efficient feature selection prediction tabular data utilizes decision tree-like architecture combine feature selection prediction incorporates reinforcement learning automatic feature selection making highly effective various tabular data task experiment hyperparameter tuning analysis performed via grid search model trained using training set fivefold cross-validation performance evaluated using independent test set validation data fivefold compare trained model area receiver operating characteristic roc curve auroc accuracy sensitivity specificity positive predictive value ppv negative predictive value npv f1-score calculated development final model divided two stage first stage hyperparameters optimized using grid search machine learning model among various model selected one demonstrated best performance based auc metric second stage selected model trained using variable chosen sequential feature selection sfs method fig addition performance model evaluated test set using auroc sensitivity specificity ppv npv f1-score hyperparameter tuning analysis performed via grid search hyperparameter range value hyperparameter optimal value found supplementary table analysis performed using python version 3.8.8 scikit-learn version 0.24.1 figure flow chart process final model full size image model interpretation model interpretation tree explainer utilized based shapley additive explanation shap value shap value visualized two way one plot mean absolute shap value indicated average impact feature model output scatterplot distribution shap value indicated tendency feature model output color feature spectrum according color bar blue low feature value red high feature value indicated feature value intensity value respective feature spectrum statistical analysis cutoff model could selected based preferred trade-off sensitivity specificity study potential candidate cutoff corresponding sensitivity specificity calculated model highest auroc based youden statistic based candidate cutoff false positive negative inspected gross pattern major variable youden index used determine cutoff threshold model delong test used compare roc curve model additionally assessed performance across various subgroup including sex age frailty score insurance status visit hospitalization comorbidity using area receiver operating characteristic curve descriptive analysis baseline characteristic study population conducted using version 9.4 institute cary north carolina usa result population characteristic among older adult hira-aps 54,274 56,762 community-dwelling patient visited july enrolled case respectively monthly 1:8 matching 488,466 510,858 patient enrolled training set 2018-hira-aps test set 2019-hira-aps respectively proportion male patient 40.8 41.0 training test set respectively training test set 1.6 patient visited previous month 4.2 hospitalized period although statistically different comorbidities training test set due large sample size proportion patient diagnosed hypertension mental disorder diabetes roughly similar approximately respectively table supplementary table table patient characteristic training set test set full size table development visit prediction model among eight algorithm variable random forest model lowest auroc 0.658 whereas lightgbm 0.687 highest auroc training set optimize model lightgbm model full model adopted supplementary table show performance model using variable considered study range value hyperparameter optimal value presented supplementary table visit prediction performance final model sfs predictor selected variable final model incorporated feature including six sociodemographic comorbidity medication-related variable general ddi nine disease-specific pims medication class training set final model auroc 0.690 showed better performance full model auroc 0.687 also showed better performance baseline model auroc 0.659 based previous study test set similar training set also showed auroc final model 0.689 highest compared variable group meant final model performed outstanding classification robust fig accuracy sensitivity specificity ppv npv f1-score final model test set 0.669 0.598 0.678 0.189 0.931 0.287 respectively shown table training set mcfadden pseudo r-square logistic regression 0.129 figure cross-validated model calibration internal external validation full size image table comparison predictive performance combination variable category model full size table model interpretation shap value used show lightgbm model classified visit using variable present study one five repeated validation datasets training set randomly selected demonstrated top shap value variable category full model shown supplementary fig final model top feature highest predictive power among feature incorporated polypharmacy age group k-abs score number antihypertensive drug frailty score sex history fall fracture number central nervous system agent non-steroidal anti-inflammatory drug antidementia agent fig variable importance model including baseline model full model presented supplementary fig mean absolute shap value top three variable exceeded 0.1 tended positively correlated visit older patient hand fourth impactful variable number antihypertensive drug tended negatively correlated visit table show classification performance final model cutoff probability addition fig show using youden index sensitivity specificity threshold distribution non-ed visitor significantly different mann–whitney test 0.01 figure quantification feature impact prediction analysis shapley additive explanation shap value impactful feature final model k_abs korean-anticholinergic burden scale anti_htn_n number antihypertensive agent h_fall history fall fracture cns_n number central nervous system agent nsaid_n number non-steroidal anti-inflammatory agent anti_dementia antidementia agent d_strokes stroke d_mental_disorder mental disorder ohg oral hyperglycemic agent d_ihd ischemic heart disease d_htn hypertension nsaids_wo_ppi non-steroidal anti-inflammatory agent without using proton pump inhibitor d_hf heart failure ppi proton pump inhibitor full size image table classification performance final model different cut-off probability full size table figure predicted probability distribution emergnecy department visit blue line non-ed visit red line distribution classified cut-off probability specified follows optimal point youden index sensitivity 0.95 specificity 0.95 full size image model performance subgroup model performance remained largely consistent across subgroup supplementary table however discrimination relatively lower patient aged 65–69 patient history visit previous month training set test set instance training set model achieved discrimination score 0.655 patient aged 65–69 0.688 aged 70–74 0.684 patient aged year older discussion ml-based model developed validated predicted risk visit older patient comprehensive medication-related variable using nationwide claim data final model comprised predictor including sociodemographic comorbidity variable well medication-related variable contrary expectation final model present study demonstrated lower performance compared previous study hippisley coupland focused development model predicting emergency admission auroc 0.78 owing difference prescription pattern healthcare system country difficult generalize existing risk prediction model population similarly applying hippisley coupland model baseline model population present study showed lower performance auroc 0.659 author suggested auroc 0.78 several factor accounted discrepancy first hippisley coupland included patient aged 18–100 year old developed model using qresearch database contains health record patient registered general practice contrast present study included elderly individual excluded patient cancer specific characteristic fever malnutrition neutropenia post-surgical complication differed non-cancer patient additionally claim data used study include variable ethnicity smoking alcohol status laboratory test result present hippisley coupland model however compensate unavailability feature claim data utilized comprehensive medication data line previous study polypharmacy anticholinergic nsaid history visit ischemic heart disease central nervous system agent remarkable factor according top important shap value also final model study included variable hippisley coupland final model developed using logistic regression method among available variable venous thromboembolism excluded final model instead anticoagulant including oral formulation commonly used treat included strong predictor final model addition scottish study predicted emergency hospitalization drug used past year showed similar result present study antibacterial agent diuretic strong predictor however unlike present study analgesic including opioids also included final model strong predictor explained fact patient cancer chronically use opioids included study among model gbm-based model xgboost lightgbm catboost state-of-the-art boosting model show best performance general classification problem study also seen auroc gbm-based model higher model result attributed learning method gbm-based model learns several weak learner sequentially proceeds learning way improves error weighting incorrectly predicted data among three gbm-based model lightgbm auroc highest possible compared two model lightgbm different tree splitting method existing tree-based algorithm including xgboost catboost use level-wise tree split method effectively reduce tree depth reason creating balanced tree robust structure overfitting contrast lightgbm leaf-wise tree split method divide leaf node maximum delta loss deepening depth tree creating asymmetric tree leaf-centered tree segmentation said easy overfit small amount data however large amount data used study lightgbm could perform best taking advantage leaf-centered tree segmentation method avoiding overfitting category variable analysis experimented changing variable group using lightgbm auroc final model using variable higher variable group full model using variable contrast full model final model used useful variable removed useless variable sfs thus final model could obtain best performance best knowledge first study predict visit among community-dwelling older noncancer patient using approach one main strength study used comprehensive medication-related variable sociodemographics comorbidities easy apply field however study doe posse limitation attributed relatively low predictability despite utilization diverse machine learning model firstly constraint within claim data prevented inclusion precise clinical indicator laboratory test result could offer better representation patient condition result model exhibited suboptimal predictive capability compared existing model secondly assumption patient fully adhered prescribed medication excluding over-the-counter drug might underestimated influence certain medication likelihood visit thirdly due rarity outcome visit limited data duration case–control design adopted preventing determination visit incidence rate among older patient additionally prediction based information month immediately preceding visit occurrence fourthly issue diagnosis code accuracy claim data persisted nevertheless model performance using administrative data satisfactory derivation test set indicating potential utility identifying older adult likely require visit nationwide scale model predictive capability fell short initial expectation value remains significant due derivation nationwide claim data potentially offering insight entire korean population automated data acquisition feature pivotal identifying high-risk group visit without necessitating additional assessment present opportunity integration nationwide prospective drug utilization review program enabling targeted preventive intervention medication-related visit owing limitation nationwide claim data prediction model developed claim data might suboptimal compared developed combined data including obtained patient interview clinical record however one goal present analysis create prediction model variable could obtained claim data expected widely applied easily computable identifiable property model enables nationwide screening elderly patient likely require visit support selection target population managing high-risk elderly individual nevertheless worth considering approach enhance predictive ability model combining lightgbm neural network model incorporating datasets claim data compensate shortcoming claim data conclusion study visit risk prediction model community-dwelling older patient developed validated using administrative data found medication-related variable helpful predicting likelihood visit implementation final model clinical setting could contribute risk stratification older patient likely require visit ultimately reduce socioeconomic burden patient healthcare system